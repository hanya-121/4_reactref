<template>
  <h1>ì—ë°‹ë©”ì„œë“œ</h1>
  <p>Lorem ipsum dolor sit amet.</p>
  <div class="" id="wrapper">
    <div>
      <food-item
        v-for="x in foods"
        :key="x.name"
        :food-name="x.name"
        :food-desc="x.desc"
        :is-favorite="x.favorite"
        @toggle-favorite="receiveEmit"
      />
    </div>
  </div>
</template>

<script>
export default {
  data() {
    return {
      foods: [
        {
          name: "Apples",
          desc: "Apples are a type of fruit that grow on trees.",
          favorite: true,
        },

        {
          name: "Pizza",
          desc: "Pizza has a bread base with tomato sauce, cheese, and toppings on top.",
          favorite: false,
        },

        {
          name: "Rice",
          desc: "Rice is a type of grain that people like to eat.",
          favorite: false,
        },

        {
          name: "Fish",
          desc: "Fish is an animal that lives in water.",
          favorite: true,
        },

        {
          name: "Cake",
          desc: "Cake is something sweet that tastes good.",
          favorite: false,
        },
      ],
    };
  },
  methods: {
    receiveEmit(foodId) {
      //$emitìœ¼ë¡œ ì „ë‹¬ëœ foodIdë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ìŒ
      let foundFood = this.foods.find(
        //ë³€ìˆ˜ findFoodì— ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ì²«ë²ˆì§¸ ê°ì²´ ì°¾ì•„ëƒ„
        (food) => food.name === foodId //ì™„ì „íˆ ì¼ì¹˜
      );
      foundFood.favorite = !foundFood.favorite; //ì°¾ì€ ìŒì‹ ê°ì²´ì˜ fovorite ì†ì„±ì„ í˜„ì¬ê°’ì˜ ë°˜ëŒ€ë¡œ ì„¤ì •
    },

    receiveEmit() {
      alert("ğŸˆ Cat world ğŸˆ");
    },
  },
};
</script>

<style>
#wrapper {
  display: flex;
  flex-wrap: wrap;
}
#wrapper > div {
  border: dashed black 1px;
  flex-basis: 120px;
  margin: 10px;
  padding: 10px;
  background-color: lightskyblue;
}
</style>

<!--
Vue $emit() ë©”ì„œë“œ => êµ¬ì„±ìš”ì†Œì—ì„œ ë¶€ëª¨ë¡œ ì •ë³´ë¥¼ ì „ë‹¬í•´ì•¼ ë˜ëŠ” ê²½ìš°
- ë¶€ëª¨ ìš”ì†Œì—ì„œ ìº¡ì²˜ í•  ìˆ˜ ìˆëŠ” ì‚¬ìš©ì ì •ì˜ ì´ë²¤íŠ¸ë¥¼ ìì‹ êµ¬ì„± ìš”ì†Œì—ì„œ ë§Œë“¤ ìˆ˜ ìˆìŒ
- propsëŠ” ë¶€ëª¨ ìš”ì†Œì—ì„œ ìì‹ êµ¬ì„±ìš”ì†Œë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬
- $emitì€ ìì‹ êµ¬ì„±ìš”ì†Œì—ì„œ ë¶€ëª¨ ìš”ì†Œë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬ (propsì™€ ë°˜ëŒ€)
-->